<html>

<head>
	<link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow&display=swap" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
	<style>
		body {
			background-color: #333;
		}

		.main {
			font-family: 'PT Sans Narrow', sans-serif;
			color: white;
			margin-bottom: 0px;
		}

		.important {
			font-size: 70px;
		}

		.small {
			font-size: 50px;
		}

		#canvasdiv,
		#chart {
			width: 100%;
			height: 90%;
		}

		.center {
			height: 100%;
			width: 100%;
			display: flex;
			flex-direction: column;
			justify-content: center;
			text-align: center;
			position: absolute;
		}

		/* *{
			margin: 0px;
			padding: 0px;
		} */
	</style>
</head>

<body>
	<h1 class="main" id="main" style="display:none">
		<span class="important" id="numruns">10000</span> <span class="small">SIMULATIONS RAN</span>
		<h1>
			<div id="messagediv" class="center">
				<h1 class="main" id="message">
					<span class="small" id="messagetext">Click Anywhere To Start</span>
				</h1>
			</div>
			<div id="canvasdiv">
				<canvas id="chart"></canvas>
			</div>
			<script src="spoons.js"></script>
			<script src="drawChart.js"></script>
			<script>
				var done = false;
				$("body").click(function() {
					console.log("Body Clicked");
					if (!done) {
						$("#messagetext").text("Running...");
						setTimeout(start, 10);
					}
					done = true;
				});

				function start() {
					newGame();
					console.log(players);
					var numrunstotal = (1 + random(5)) * 10000;
					simulate(numrunstotal);
					$("#numruns").text(numberWithCommas(numrunstotal));
					$("#main").show();
					$("#messagediv").hide();
					drawChart(wins);
				}

				function numberWithCommas(x) {
					return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
				}
			</script>
</body>

</html>
